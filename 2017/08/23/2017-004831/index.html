<!DOCTYPE html><html class="appearance-auto" lang="zh-TW"><head><meta charset="UTF-8"><title>C# 學習筆記 - Conditional 和 Obsolete 的 Attribute 特性的簡介與用法 - sqz777's blog</title><meta name="description" content="記錄一下 Attribute 的學習紀錄
啊啊 記錄一下Attribute的基本用法，Attribute英文直接翻譯是「屬性」但是「屬性」這個名詞已經有Property佔用了，為了避免混淆，所以個人將Attribute翻譯為「特性」，而 Property 在這篇則翻譯為「屬性」
目前我的Attr.."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><meta name="image" content="https://blogs.sqz777.com/img/2017-004831/1503478090_31298.png"><meta name="original-source" content="https://blogs.sqz777.com/2017/08/23/2017-004831/"><link rel="canonical" href="https://blogs.sqz777.com/2017/08/23/2017-004831/"><meta property="og:locale" content="zh-TW"><meta property="og:type" content="article"><meta property="og:title" content="C# 學習筆記 - Conditional 和 Obsolete 的 Attribute 特性的簡介與用法 - sqz777's blog"><meta property="og:description" content="記錄一下 Attribute 的學習紀錄
啊啊 記錄一下Attribute的基本用法，Attribute英文直接翻譯是「屬性」但是「屬性」這個名詞已經有Property佔用了，為了避免混淆，所以個人將Attribute翻譯為「特性」，而 Property 在這篇則翻譯為「屬性」
目前我的Attr.."><meta property="og:url" content="https://blogs.sqz777.com/2017/08/23/2017-004831/"><meta property="og:site_name" content="SQZ777's blog"><meta property="og:image" content="https://blogs.sqz777.com/img/2017-004831/1503478090_31298.png"><meta property="fb:app_id" content="000000000000000"><meta name="twitter:title" content="C# 學習筆記 - Conditional 和 Obsolete 的 Attribute 特性的簡介與用法 - sqz777's blog"><meta name="twitter:image" content="https://blogs.sqz777.com/img/2017-004831/1503478090_31298.png"><meta name="twitter:description" content="記錄一下 Attribute 的學習紀錄
啊啊 記錄一下Attribute的基本用法，Attribute英文直接翻譯是「屬性」但是「屬性」這個名詞已經有Property佔用了，為了避免混淆，所以個人將Attribute翻譯為「特性」，而 Property 在這篇則翻譯為「屬性」
目前我的Attr.."><meta name="twitter:card" content="summary_large_image"><meta name="google-site-verification" content="lTAMT4U8v-CtkYRIo8AmGaACB3EikdUYpiTHAylwGPE"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-4N118JY08V"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-4N118JY08V');</script><!-- End Google Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="SQZ777's blog" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">sqz777's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">C# 學習筆記 - Conditional 和 Obsolete 的 Attribute 特性的簡介與用法</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">點擊返回開頭</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Attribute-%E5%92%8C-Property-%E6%84%8F%E7%BE%A9%E8%B7%9F%E5%AF%A6%E9%9A%9B%E4%B8%8A%E7%9A%84%E5%B7%AE%E5%88%A5"><span class="toc-text">Attribute 和 Property 意義跟實際上的差別</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conditional"><span class="toc-text">Conditional</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%80%8B%E8%AD%98%E5%88%A5%E9%A0%85"><span class="toc-text">多個識別項</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Obsolete"><span class="toc-text">Obsolete</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/C#"><i class="tag post-item-tag">C#</i></a><a href="/tags/Attribute"><i class="tag post-item-tag">Attribute</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">C# 學習筆記 - Conditional 和 Obsolete 的 Attribute 特性的簡介與用法</h1><time class="has-text-grey" datetime="2017-08-23T00:00:00.000Z">2017-08-23</time><article class="mt-2 post-content"><p>記錄一下 Attribute 的學習紀錄</p>
<p>啊啊 記錄一下Attribute的基本用法，Attribute英文直接翻譯是「屬性」但是「屬性」這個名詞已經有Property佔用了，為了避免混淆，所以個人將Attribute翻譯為「特性」，而 Property 在這篇則翻譯為「屬性」</p>
<p>目前我的Attribute文章會寫兩到三篇左右，本篇只會記錄基本的用法跟自己常用的用法，第二篇則是會記錄該如何自定義Attribute，第三篇則是會記錄簡單的反射用法(這篇可能會融進第二篇)</p>
<p>這篇要記錄的有以下4點</p>
<ul>
<li>Attribute 和 Property 意義跟實際上的差別</li>
<li>Conditional</li>
<li>多個識別項</li>
<li>Obsolete</li>
</ul>
<h2 id="Attribute-和-Property-意義跟實際上的差別"><a href="#Attribute-和-Property-意義跟實際上的差別" class="headerlink" title="Attribute 和 Property 意義跟實際上的差別"></a>Attribute 和 Property 意義跟實際上的差別</h2><p>Attribute 和 Property 是完全不同的東西，但英文的直接翻譯上都會被稱之為「屬性」，之前也有看到別人把Attribute翻作「特徵向」，但我還是比較偏好「特性」的這個翻譯。</p>
<p>在意義上的可以在MSDN上看見兩者不同的定義</p>
<p><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-tw/library/aa288059(v=vs.71).aspx">Attribute的官方定義</a>是</p>
<blockquote>
<p><em>C# 提供了一個定義宣告式標記 (Tag) 的機制，此宣告標記稱為屬性 (Attribute)，可以讓您在原始程式碼中放置一些實體，來指定額外的資訊。屬性所包含的資訊可以在 Run Time 時透過<a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-tw/library/aa719979(v=vs.71).aspx">反映</a>來擷取。您可以使用<a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-tw/library/aa287992(v=vs.71).aspx">預先定義屬性 (Attribute)</a>或者您可以定義自己的自訂屬性。</em></p>
</blockquote>
<p>簡單來說，Attribute是一個讓我們的程式可以新增「附加聲名」訊息的一個機制</p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/classes-and-structs/properties">Property的官方定義</a>是</p>
<blockquote>
<p>屬性是提供彈性機制以讀取、寫入或計算私用欄位值的成員。 使用屬性時可將其視為公用資料成員，但實際上屬性是名為「存取子」的特殊方法。 如此可讓資料更容易存取，同時有助於提升方法的安全性和彈性。</p>
</blockquote>
<p>簡單來說Property是類型(class)、結構(structure)、介面(interface)跟命名的成員，他使用存取子(accessor)讓變數的值可被讀寫</p>
<p>從以上兩個定義就可以發現他們兩個在翻譯上是相同的，但實際上是完全不同的東西</p>
<h2 id="Conditional"><a href="#Conditional" class="headerlink" title="Conditional"></a><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-tw/library/4xssyw96(v=vs.90).aspx">Conditional</a></h2><p>這一部分要記錄的是 Attribute 的 Conditional </p>
<p>Conditional 的翻譯是「條件」也就是說執行他的條件是什麼狀態，一般在開發時會有兩種執行模式一種是用於平時開發偵錯測試時的「DEBUG」模式另一種則是發布時用的「RELEASE」模式，在圖中可以看見執行更改模式的地方</p>
<p><img src="/img/2017-004831/1503478090_31298.png"></p>
<p>現在用簡單的Code來作為展示與說明Attribute</p>
<pre><code>using System;
using System.Diagnostics;

namespace Attribute_練習
/&#123;
    class Program
    /&#123;
        static void Main(string[] args)
        /&#123;
            MyClass.ShowMessage(&quot;In Main&quot;);
            Method1();
            Console.Read();
        /&#125;
        
        static void Method1()
        /&#123;
           MyClass.ShowMessage(&quot;Method1&quot;);
        /&#125;
    /&#125;

    public class MyClass
    /&#123;
        [Conditional(&quot;DEBUG&quot;)]
        public static void ShowMessage(string msg)
        /&#123;
            Console.WriteLine(msg);
        /&#125;
    /&#125;
/&#125;
</code></pre>
<p>以上的Code顯而易見的是我建立了另一個Class而裡面有一個ShowMessage的Method，在這一個Method的上面可以看見我加入了一個Conditional，而這個Conditional我設定在Debug模式下才能夠使用，所以如果我現在用Debug模式執行程式Console則會出現以下的畫面</p>
<p><img src="/img/2017-004831/1503478373_06786.png"></p>
<p>如果將 Debug 模式設成 Release 則會發現執行的結果是什麼事情都不會發生。</p>
<p>PS:若想要在 Release 模式下執行條件為 DEBUG 的方法，也可以使用<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/dotnet/csharp/language-reference/preprocessor-directives/preprocessor-define">前置處理器指示詞 #define</a> 來定義出 DEBUG 就可以在 release 下執行 Conditional 為 debug 的 Method </p>
<h2 id="多個識別項"><a href="#多個識別項" class="headerlink" title="多個識別項"></a>多個識別項</h2><p>我們也可以讓一個方法擁有多個 Conditional 屬性，擁有多個 Conditional 屬性就會有兩種邏輯，一種是 AND 、一種則是 OR </p>
<p>首先先來說說 OR 的邏輯，OR 的邏輯表示方法的 Code 如下</p>
<pre><code>public class MyClass
/&#123;
    [Conditional(&quot;DEBUG&quot;), Conditional(&quot;B&quot;)]
    public static void ShowMessage(string msg)
    /&#123;
        Console.WriteLine(msg);
    /&#125;
/&#125;
</code></pre>
<p>以上程式碼的意思是在 DEBUG 模式「或」有 #define B 則會執行</p>
<p>再來要說的是 AND 邏輯，AND 邏輯的表示方法的 Code 如下</p>
<pre><code>public class MyClass
/&#123;
    [Conditional(&quot;DEBUG&quot;)]
    public static void ShowMessage(string msg)
    /&#123;
        ShowMessage2();
    /&#125;

    [Conditional(&quot;B&quot;)]
    public static void ShowMessage2()
    /&#123;
        Console.WriteLine(&quot;Message2&quot;);
    /&#125;
/&#125;
</code></pre>
<p>以上的程式碼就是在 DEBUG 模式「及」有 #define B 才會執行</p>
<h2 id="Obsolete"><a href="#Obsolete" class="headerlink" title="Obsolete"></a><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/zh-tw/library/22kk2b44(v=vs.90).aspx">Obsolete</a></h2><p>Obsolete 的官方定義如下</p>
<blockquote>
<p><em>Obsolete 屬性 (Attribute) 會標記不再建議使用的程式實體 (Entity)。每次使用標記為過時的實體時，會視設定此屬性的方法，產生警告或是錯誤。</em></p>
</blockquote>
<p>假設今天我們有一段程式代碼，在今過一段時間的開發後，這一段程式代碼已經過時了，不再使用，或是不建議使用時，就可以利用Obsolete這一個Attribute來做標記，其使用方法如下</p>
<pre><code>public class MyClass
/&#123;
    [Obsolete(&quot;Don&#39;t use Old Method!&quot;)]
    public static void ShowMessage(string msg)
    /&#123;
        Console.WriteLine(msg);
    /&#125;
/&#125;
</code></pre>
<p>如果我們使用到了這一個被標記為Obsolete的方法時，系統則會跳出警告，並顯示出我們所寫的提示「Dont’ use Old Method!」，其系統顯示時的畫面如下</p>
<p><img src="/img/2017-004831/1503488182_1552.png"></p>
<p>如果今天要讓我們在編譯時直接出錯則在Obsolete帶入一個布林參數 true就 會出現error 其使用方法如下</p>
<pre><code>public class MyClass
/&#123;
    [Obsolete(&quot;Don&#39;t use Old Method!&quot;,true)]
    public static void ShowMessage(string msg)
    /&#123;
        Console.WriteLine(msg);
    /&#125;
/&#125;
</code></pre>
<p>在使用這一個方法的程式碼就會出現錯誤，系統下方也會出現錯誤的提示，其畫面如下</p>
<p><img src="/img/2017-004831/1503488163_53149.png"></p>
<p>以上都是基本的Attribute用法，之後會再寫一個該如何自定義Attribute</p>
<p>Attribute十分的常見，在開發的時候也時常用到像是在ASP.NET 中 會用到 HttpPost 或是 ActionFilter 的 Attribute ，之後有時間再把自己常用的這兩個一起整理出來，避免之後沒有用到又忘記www</p>
<p>感謝各位的收看 &lt;(_ _)&gt;</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2017/08/31/2017-004533/" title="javaScript 學習筆記 - [Execution Stack] JavaScript的運作原理 Part 1"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一頁: javaScript 學習筆記 - [Execution Stack] JavaScript的運作原理 Part 1</span></a><a class="button is-default" href="/2017/08/17/2017-222734/" title="C# 學習筆記 - 黑人問號，喔不 我是說 「?」啦"><span class="has-text-weight-semibold">下一頁: C# 學習筆記 - 黑人問號，喔不 我是說 「?」啦</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="SQZ777/sqz777-blog" src="https://utteranc.es/client.js" issue-term="title" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/sqz777"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> sqz777 2025</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>