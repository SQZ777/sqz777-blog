<!DOCTYPE html><html class="appearance-auto" lang="zh-TW"><head><meta charset="UTF-8"><title>Test - Ruby + Cucumber 常用的 Selenium-Cucumber Ruby API's 哦哦哦哦哦 - sqz777's blog</title><meta name="description" content="這一篇來介紹常用的幾個 selenium-cucumber 常用的 API
知道越多已經存在的東西，就不需要再自己造輪子，或是使用很慢的方法來解決現有的問題。

有興趣了解更多的可以到他的 git 文件看到更多他的API
這是個是他的 git 文件
想知道在更多的話就要到他的 lib 看他底層是.."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><meta name="image" content="https://blogs.sqz777.com/img/2018-173146/busy-1495628423.png"><meta name="original-source" content="https://blogs.sqz777.com/2018/01/30/2018-173146/"><link rel="canonical" href="https://blogs.sqz777.com/2018/01/30/2018-173146/"><meta property="og:locale" content="zh-TW"><meta property="og:type" content="article"><meta property="og:title" content="Test - Ruby + Cucumber 常用的 Selenium-Cucumber Ruby API's 哦哦哦哦哦 - sqz777's blog"><meta property="og:description" content="這一篇來介紹常用的幾個 selenium-cucumber 常用的 API
知道越多已經存在的東西，就不需要再自己造輪子，或是使用很慢的方法來解決現有的問題。

有興趣了解更多的可以到他的 git 文件看到更多他的API
這是個是他的 git 文件
想知道在更多的話就要到他的 lib 看他底層是.."><meta property="og:url" content="https://blogs.sqz777.com/2018/01/30/2018-173146/"><meta property="og:site_name" content="SQZ777's blog"><meta property="og:image" content="https://blogs.sqz777.com/img/2018-173146/busy-1495628423.png"><meta property="fb:app_id" content="966242223397117"><meta name="twitter:title" content="Test - Ruby + Cucumber 常用的 Selenium-Cucumber Ruby API's 哦哦哦哦哦 - sqz777's blog"><meta name="twitter:image" content="https://blogs.sqz777.com/img/2018-173146/busy-1495628423.png"><meta name="twitter:description" content="這一篇來介紹常用的幾個 selenium-cucumber 常用的 API
知道越多已經存在的東西，就不需要再自己造輪子，或是使用很慢的方法來解決現有的問題。

有興趣了解更多的可以到他的 git 文件看到更多他的API
這是個是他的 git 文件
想知道在更多的話就要到他的 lib 看他底層是.."><meta name="twitter:card" content="summary_large_image"><meta name="google-site-verification" content="lTAMT4U8v-CtkYRIo8AmGaACB3EikdUYpiTHAylwGPE"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-4N118JY08V"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-4N118JY08V');</script><!-- End Google Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="SQZ777's blog" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">sqz777's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Test - Ruby + Cucumber 常用的 Selenium-Cucumber Ruby API's 哦哦哦哦哦</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">點擊返回開頭</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首頁</a></h3><h3 class="is-inline-block"><a href="/about">關於我</a></h3><h3 class="is-inline-block"><a href="/archives">文章列表</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8F%BE%E5%9C%A8%E4%BE%86%E9%97%9C%E6%B3%A8%E4%B8%80%E4%B8%8B%E8%A3%A1%E9%9D%A2Code%E7%9A%84%E8%AA%9E%E6%B3%95%E5%90%A7"><span class="toc-text">現在來關注一下裡面Code的語法吧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#navigate-to-%E2%80%98url%E2%80%99"><span class="toc-text">navigate_to(‘url’)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#enter-text-%E5%B0%8B%E6%89%BE%E6%96%B9%E5%BC%8F-%E2%80%98%E8%BC%B8%E5%85%A5%E6%96%87%E5%AD%97%E2%80%99-%E2%80%98xpath%E8%B7%AF%E5%BE%91%E2%80%99"><span class="toc-text">enter_text(尋找方式, ‘輸入文字’, ‘xpath路徑’)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clear-something-%E5%B0%8B%E6%89%BE%E6%96%B9%E5%BC%8F-%E2%80%98xpath%E8%B7%AF%E5%BE%91%E2%80%99"><span class="toc-text">clear_something(尋找方式, ‘xpath路徑’)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#is-element-displayed-%E5%B0%8B%E6%89%BE%E6%96%B9%E5%BC%8F-%E2%80%98xpath%E8%B7%AF%E5%BE%91%E2%80%99"><span class="toc-text">is_element_displayed(尋找方式, ‘xpath路徑’)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scroll-%E2%80%98to%E2%80%99"><span class="toc-text">scroll(‘to’)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wait-time"><span class="toc-text">wait(time)</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/Test"><i class="tag post-item-tag">Test</i></a><a href="/tags/Selenium"><i class="tag post-item-tag">Selenium</i></a><a href="/tags/ChromeDriver"><i class="tag post-item-tag">ChromeDriver</i></a><a href="/tags/Automation"><i class="tag post-item-tag">Automation</i></a><a href="/tags/Ruby"><i class="tag post-item-tag">Ruby</i></a><a href="/tags/Cucumber"><i class="tag post-item-tag">Cucumber</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Test - Ruby + Cucumber 常用的 Selenium-Cucumber Ruby API's 哦哦哦哦哦</h1><time class="has-text-grey" datetime="2018-01-30T00:00:00.000Z">2018-01-30</time><article class="mt-2 post-content"><p>這一篇來介紹常用的幾個 selenium-cucumber 常用的 API</p>
<p>知道越多已經存在的東西，就不需要再自己造輪子，或是使用很慢的方法來解決現有的問題。</p>
<p><img src="/img/2018-173146/busy-1495628423.png" alt="「we are too busy」的圖片搜尋結果"></p>
<p>有興趣了解更多的可以到他的 git 文件看到更多他的API</p>
<p>這是個是他的 <a target="_blank" rel="noopener" href="https://github.com/sameer49/selenium-cucumber-ruby/blob/master/doc/selenium-cucumber-API.md">git 文件</a></p>
<p>想知道在更多的話就要到他的 lib 看他底層是如何寫的，會發現更多他原本就寫好的 API~</p>
<p>這一次要介紹的幾個常用的API分別是</p>
<ul>
<li>is_element_displayed</li>
<li>enter_text</li>
<li>clear_text</li>
<li>click</li>
<li>scroll_page</li>
<li>wait</li>
</ul>
<p>我在這直接寫一個範例進行說明，feature檔就會長這個樣子</p>
<pre><code>Feature: Demo APIs

  Scenario: As a normal user I can search somethingb
    Given I input somethingB
    When I Click search button
    Then I scroll to end
</code></pre>
<p>我們先看實際執行結果</p>
<p><img src="/img/2018-173146/1517213484_664.gif"></p>
<p>接下來我們針對每一個Given And When Then的code來解釋</p>
<p>在開始針對某部分的code開始看之前，先看看在 custom_steps.rb 中的程式碼</p>
<pre><code>#custom_steps

require &#39;selenium-cucumber&#39;
google_page = GOOGLEPAGE.new

Given(&#39;I input somethingB&#39;) do
  navigate_to(&#39;https://www.google.com/&#39;)
  google_page.input_somethinga
  google_page.clear_something
  google_page.input_somethingb
end

When(&#39;I Click search button&#39;) do
  google_page.click_btn
end

Then(&#39;I scroll to end&#39;) do
  google_page.scroll_end
end
</code></pre>
<p>在這裡可以看到 custom_steps 中有用到了許多 GOOGLEPAGE 中的方法，來讓 webdriver 做動作，接著要來看看全部的 GOOGLEPAGE 的 code，如下</p>
<pre><code>#google page

class GOOGLEPAGE
  XPATHS = /&#123;
    btn: &#39;//*[@name=&quot;btnK&quot;]&#39;,
    textbox: &#39;//*[@name=&quot;q&quot;]&#39;
  /&#125;.freeze

  def input_somethinga
    enter_text(:xpath, &#39;somethinga&#39;, XPATHS[:textbox])
  end

  def clear_something
    clear_text(:xpath, XPATHS[:textbox])
  end

  def input_somethingb
    enter_text(:xpath, &#39;somethingb&#39;, XPATHS[:textbox])
  end

  def click_btn
    is_element_displayed(:xpath, XPATHS[:btn])
    click(:xpath, XPATHS[:btn])
  end

  def scroll_end
    scroll_page(&#39;end&#39;)
    wait(1)
  end

end
</code></pre>
<h2 id="現在來關注一下裡面Code的語法吧"><a href="#現在來關注一下裡面Code的語法吧" class="headerlink" title="現在來關注一下裡面Code的語法吧"></a>現在來關注一下裡面Code的語法吧</h2><h3 id="navigate-to-‘url’"><a href="#navigate-to-‘url’" class="headerlink" title="navigate_to(‘url’)"></a>navigate_to(‘url’)</h3><p>這一個方法就是將你傳到某一個網址，由這一行code可以看到是將我們帶到google的首頁</p>
<h3 id="enter-text-尋找方式-‘輸入文字’-‘xpath路徑’"><a href="#enter-text-尋找方式-‘輸入文字’-‘xpath路徑’" class="headerlink" title="enter_text(尋找方式, ‘輸入文字’, ‘xpath路徑’)"></a>enter_text(尋找方式, ‘輸入文字’, ‘xpath路徑’)</h3><p>這一個方法可以在程式碼中看到我是使用XPATH的尋找方式，在找到的位置輸入somethinga</p>
<p>enter_text(:xpath, ‘somethinga’, XPATHS[:textbox])</p>
<h3 id="clear-something-尋找方式-‘xpath路徑’"><a href="#clear-something-尋找方式-‘xpath路徑’" class="headerlink" title="clear_something(尋找方式, ‘xpath路徑’)"></a>clear_something(尋找方式, ‘xpath路徑’)</h3><p>這一個方法一樣的格式，只是少了需要輸入數字，這個方法會幫我們將找到路徑的元素清空</p>
<h3 id="is-element-displayed-尋找方式-‘xpath路徑’"><a href="#is-element-displayed-尋找方式-‘xpath路徑’" class="headerlink" title="is_element_displayed(尋找方式, ‘xpath路徑’)"></a>is_element_displayed(尋找方式, ‘xpath路徑’)</h3><p>這個方法是為了確認方法是否存在，常常頁面載入完成後，元素還沒出現的可能，所以很常會需要這個方法來確認元素是否出現了</p>
<h3 id="scroll-‘to’"><a href="#scroll-‘to’" class="headerlink" title="scroll(‘to’)"></a>scroll(‘to’)</h3><p>這個方法是捲動瀏覽器中的捲軸，end是卷到底，top是到最上方，很簡單明瞭</p>
<h3 id="wait-time"><a href="#wait-time" class="headerlink" title="wait(time)"></a>wait(time)</h3><p>這個方法是為了讓頁面等待時使用，time的單位是秒。</p>
<p>這一次的git url</p>
<p><a target="_blank" rel="noopener" href="https://github.com/SQZ777/RubyDemoWithGoogle">https://github.com/SQZ777/RubyDemoWithGoogle</a></p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2018/02/04/2018-001738/" title="Windows - 讓相貌難看的 windwos command 視窗整形(?) －Ansicon 安裝一波!"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一頁: Windows - 讓相貌難看的 windwos command 視窗整形(?) －Ansicon 安裝一波!</span></a><a class="button is-default" href="/2018/01/22/2018-215349/" title="Test - Ruby + Cucumber 之 惱人的 Duration Error"><span class="has-text-weight-semibold">下一頁: Test - Ruby + Cucumber 之 惱人的 Duration Error</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="SQZ777/sqz777-blog" src="https://utteranc.es/client.js" issue-term="title" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/sqz777"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> sqz777 2024</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>